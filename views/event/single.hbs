

{{#with event}}
{{> eventitem }}
{{/with}}

<h2>Location: </h2>
<div id="map-container"></div>

<form action="/event/{{event._id}}/edit" method="POST">
  <button>Edit or Remove this Event</button>
</form>

<script>
  function initMap() {
    const event = {{{json event}}};
    const eventLat = event.location.coordinates[1]
    const eventLng = event.location.coordinates[0]
    //console.log(event.location.coordinates); 
    const $mapContainer = document.getElementById('map-container');

    const map = new window.google.maps.Map($mapContainer, {
      center: {lat: eventLat, lng: eventLng },
      zoom: 14
    });

    const marker = new window.google.maps.Marker({
      map,
      position: {
        lat: eventLat,
        lng: eventLng
      }
    });

    //console.log(marker);
  }

</script>

{{> mapscript}}

